{"version":3,"sources":["webpack:///./src/views/profile/Login.vue","webpack:///./src/views/profile/Login.vue?077a","webpack:///./src/views/profile/Login.vue?5ef5","webpack:///./src/components/common/navbar/NavBar.vue?3d76","webpack:///./src/network/user.js","webpack:///./src/components/common/navbar/NavBar.vue","webpack:///./src/components/common/navbar/NavBar.vue?af16"],"names":["class","aria-hidden","xlink:href","style","left","middle","width","height","src","onSubmit","userInfo","email","name","label","placeholder","autocomplete","rules","password","type","$router","push","round","block","color","native-type","components","NavBar","setup","router","store","values","then","res","window","localStorage","setItem","access_token","commit","success","setTimeout","go","render","__scopeId","register","data","request","url","method","Login","Logout","getUser","goback"],"mappings":"qNAIQ,eAEM,OAFDA,MAAM,oBAAoBC,cAAY,Q,CACzC,eAAsC,OAAjCC,aAAW,oB,oBAGI,Q,GAgCnBC,MAAA,iB,iBAOF,Q,gOA9CP,eAmDM,YAlDJ,eAOU,QANSC,KAAI,GACnB,iBAEM,CAFN,MAIeC,OAAM,GAAC,iBAAI,C,YAG9B,eAKE,GAJAC,MAAM,QACNC,OAAO,QACPC,IAAI,qCACJL,MAAA,6CAGF,eAiCW,GAjCA,SAAQ,EAAAM,UAAQ,C,WACzB,iBAOE,CAPF,eAOE,G,WANS,EAAAC,SAASC,M,qDAAT,EAAAD,SAASC,MAAK,IACvBC,KAAK,KACLC,MAAM,KACNC,YAAY,KACZC,aAAa,QACZC,MAAO,CAAC,CAAD,iC,uBAEV,eAQE,G,WAPS,EAAAN,SAASO,S,qDAAT,EAAAP,SAASO,SAAQ,IAC1BC,KAAK,WACLN,KAAK,KACLC,MAAM,KACNC,YAAY,KACZC,aAAa,eACZC,MAAO,CAAC,CAAD,+B,uBAGV,eAEM,OAFDhB,MAAM,QAAS,QAAK,+BAAE,EAAAmB,QAAQC,KAAI,uBAAyB,eAGhE,eAUM,MAVN,EAUM,CATJ,eAQa,GAPXC,MAAA,GACAC,MAAA,GACAJ,KAAK,UACLK,MAAM,UACNC,cAAY,U,YACb,iBAED,C,oHAYO,GACbZ,KAAM,QACNa,WAAY,CAAEC,SAAA,MACdC,MAHa,WAIX,IAAIC,EAAS,iBACTC,EAAQ,iBACNnB,EAAW,eAAS,CACxBO,SAAU,GACVN,MAAO,KAEHF,EAAW,SAACqB,GAChB,eAAMpB,GAAUqB,MAAK,SAACC,GAEpBC,OAAOC,aAAaC,QAAQ,eAAgBH,EAAII,cAEhDP,EAAMQ,OAAO,iBAAiB,GAE9B,OAAMC,QAAQ,QACdC,YAAW,WACTX,EAAOY,IAAI,KACV,SAIP,MAAO,CACL9B,WACAD,c,UClFN,EAAOgC,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,oCCRf,W,oCCAA,W,oCCAA,wJAEO,SAASC,EAASC,GACrB,OAAOC,eAAQ,CACXC,IAAK,qBACLC,OAAQ,OACRH,KAAMA,IAGP,SAASI,EAAMJ,GAClB,OAAOC,eAAQ,CACXC,IAAK,kBACLC,OAAQ,OACRH,KAAMA,IAGP,SAASK,IACZ,OAAOJ,eAAQ,CACXC,IAAK,mBACLC,OAAQ,SAGT,SAASG,IACZ,OAAOL,eAAQ,CACXC,IAAK,gB,sJCvBN9C,MAAM,W,GAEJA,MAAM,U,GACNA,MAAM,S,wEAHb,eAIM,MAJN,EAIM,CAHJ,eAAiE,OAA5DA,MAAM,OAAQ,QAAK,8BAAE,EAAAmD,QAAA,EAAAA,OAAA,sB,CAAQ,eAAyB,mBAC3D,eAAqD,MAArD,EAAqD,CAAjC,eAA2B,qBAC/C,eAAmD,MAAnD,EAAmD,CAAhC,eAA0B,yB,YAMlC,GACbvC,KAAM,SACNe,MAFa,WAGX,IAAMC,EAAS,iBACTuB,EAAS,WACbvB,EAAOY,IAAI,IAGb,MAAO,CACLW,Y,UCdN,EAAOV,OAASA,EAChB,EAAOC,UAAY,kBAEJ,U","file":"js/chunk-2a714fdc.6e91d938.js","sourcesContent":["<template>\r\n  <div>\r\n    <nav-bar>\r\n      <template v-slot:left>\r\n        <svg class=\"icon tab-bar-icon\" aria-hidden=\"true\">\r\n          <use xlink:href=\"#icon-jiantou\"></use>\r\n        </svg>\r\n      </template>\r\n      <template v-slot:middle>用户注册</template>\r\n    </nav-bar>\r\n\r\n    <van-image\r\n      width=\"10rem\"\r\n      height=\"10rem\"\r\n      src=\"https://img.yzcdn.cn/vant/cat.jpeg\"\r\n      style=\"margin-top: 45px; padding-top: 50px\"\r\n    />\r\n\r\n    <van-form @submit=\"onSubmit\">\r\n      <van-field\r\n        v-model=\"userInfo.email\"\r\n        name=\"邮箱\"\r\n        label=\"邮箱\"\r\n        placeholder=\"邮箱\"\r\n        autocomplete=\"email\"\r\n        :rules=\"[{ required: true, message: '请填写正确邮箱' }]\"\r\n      />\r\n      <van-field\r\n        v-model=\"userInfo.password\"\r\n        type=\"password\"\r\n        name=\"密码\"\r\n        label=\"密码\"\r\n        placeholder=\"密码\"\r\n        autocomplete=\"new-password\"\r\n        :rules=\"[{ required: true, message: '请填写密码' }]\"\r\n      />\r\n\r\n      <div class=\"login\" @click=\"$router.push({ path: '/register' })\">\r\n        没有账号，前往注册\r\n      </div>\r\n      <div style=\"margin: 16px\">\r\n        <van-button\r\n          round\r\n          block\r\n          type=\"primary\"\r\n          color=\"#42b983\"\r\n          native-type=\"submit\"\r\n        >\r\n          登录\r\n        </van-button>\r\n      </div>\r\n    </van-form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport NavBar from \"components/common/navbar/NavBar.vue\";\r\nimport { Login } from \"network/user.js\";\r\nimport { reactive } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { Notify, Toast } from \"vant\";\r\nimport { useStore } from \"vuex\";\r\nexport default {\r\n  name: \"Login\",\r\n  components: { NavBar },\r\n  setup() {\r\n    let router = useRouter();\r\n    let store = useStore();\r\n    const userInfo = reactive({\r\n      password: \"\",\r\n      email: \"\",\r\n    });\r\n    const onSubmit = (values) => {\r\n      Login(userInfo).then((res) => {\r\n        // store access token to local storage\r\n        window.localStorage.setItem(\"access_token\", res.access_token);\r\n        // vuex islogin\r\n        store.commit(\"setIsloggedIn\", true);\r\n\r\n        Toast.success(\"登录成功\");\r\n        setTimeout(() => {\r\n          router.go(-1);\r\n        }, 500);\r\n      });\r\n    };\r\n\r\n    return {\r\n      userInfo,\r\n      onSubmit,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login {\r\n  font-size: 12px;\r\n  margin-bottom: 10px;\r\n  color: var(--color-tint);\r\n}\r\n</style>","import { render } from \"./Login.vue?vue&type=template&id=2cd97a99&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=2cd97a99&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2cd97a99\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=2cd97a99&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NavBar.vue?vue&type=style&index=0&id=c845cf4c&scoped=true&lang=css\"","import {request} from './request'\r\n\r\nexport function register(data) {\r\n    return request({\r\n        url: '/api/auth/register',\r\n        method: 'POST',\r\n        data: data\r\n    })\r\n}\r\nexport function Login(data) {\r\n    return request({\r\n        url: '/api/auth/login',\r\n        method: 'POST',\r\n        data: data\r\n    })\r\n}\r\nexport function Logout() {\r\n    return request({\r\n        url: '/api/auth/logout',\r\n        method: 'POST',\r\n    })\r\n}\r\nexport function getUser() {\r\n    return request({\r\n        url: '/api/user',\r\n    })\r\n}","<template>\r\n  <div class=\"nav-bar\">\r\n    <div class=\"left\" @click=\"goback\"><slot name=\"left\"></slot></div>\r\n    <div class=\"middle\"><slot name=\"middle\"></slot></div>\r\n    <div class=\"right\"><slot name=\"right\"></slot></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from \"vue-router\";\r\nexport default {\r\n  name: \"NavBar\",\r\n  setup() {\r\n    const router = useRouter();\r\n    const goback = () => {\r\n      router.go(-1);\r\n    };\r\n\r\n    return {\r\n      goback,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.nav-bar {\r\n  background-color: var(--color-tint);\r\n  color: #fff;\r\n  display: flex;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 10;\r\n  height: 45px;\r\n  line-height: 45px;\r\n  text-align: center;\r\n  box-shadow: 0 2px 0px rgba(100, 100, 100, 0.1);\r\n}\r\n\r\n.left, .right {\r\n  width: 65px;\r\n}\r\n\r\n.middle {\r\n  flex: 1;\r\n}\r\n</style>","import { render } from \"./NavBar.vue?vue&type=template&id=c845cf4c&scoped=true\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js\"\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=c845cf4c&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-c845cf4c\"\n\nexport default script"],"sourceRoot":""}