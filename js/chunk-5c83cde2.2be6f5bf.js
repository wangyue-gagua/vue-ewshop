(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c83cde2"],{"0ba4":function(e,t,c){},bb51:function(e,t,c){"use strict";c.r(t);c("b0c0");var n=c("7a23"),a=Object(n["T"])("data-v-7c7eeb2c");Object(n["B"])("data-v-7c7eeb2c");var o=Object(n["j"])("svg",{class:"icon tab-bar-icon","aria-hidden":"true"},[Object(n["j"])("use",{"xlink:href":"#icon-jiantou"})],-1),i=Object(n["i"])("商品分类"),l={id:"mainbox"},u={class:"ordertab"},r={class:"goods-list"},b={class:"content"};Object(n["z"])();var s=a((function(e,t,c,s,d,j){var v=Object(n["G"])("nav-bar"),O=Object(n["G"])("van-tab"),f=Object(n["G"])("van-tabs"),p=Object(n["G"])("van-sidebar-item"),g=Object(n["G"])("van-collapse-item"),m=Object(n["G"])("van-collapse"),h=Object(n["G"])("van-sidebar"),k=Object(n["G"])("van-card"),_=Object(n["G"])("up-back");return Object(n["y"])(),Object(n["g"])("div",null,[Object(n["j"])(v,null,{left:a((function(){return[o]})),middle:a((function(){return[i]})),_:1}),Object(n["j"])("div",l,[Object(n["j"])("div",u,[Object(n["j"])(f,{active:s.active_tab,"onUpdate:active":t[1]||(t[1]=function(e){return s.active_tab=e}),onClick:s.TabClick},{default:a((function(){return[Object(n["j"])(O,{title:"销量排序"}),Object(n["j"])(O,{title:"价格排序"}),Object(n["j"])(O,{title:"评价排序"})]})),_:1},8,["active","onClick"])]),Object(n["j"])(h,{modelValue:s.active,"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.active=e}),class:"leftmenu"},{default:a((function(){return[Object(n["j"])(m,{modelValue:s.activeName,"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.activeName=e}),accordion:""},{default:a((function(){return[(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["E"])(s.categories,(function(e){return Object(n["y"])(),Object(n["g"])(g,{key:e.id,title:e.name,name:e.id},{default:a((function(){return[(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["E"])(e.children,(function(e){return Object(n["y"])(),Object(n["g"])(p,{key:e.id,title:e.name,onClick:function(t){return s.getGoods(e.id)}},null,8,["title","onClick"])})),128))]})),_:2},1032,["title","name"])})),128))]})),_:1},8,["modelValue"])]})),_:1},8,["modelValue"]),Object(n["j"])("div",r,[Object(n["j"])("div",b,[(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["E"])(s.showGoods,(function(e,t){return Object(n["y"])(),Object(n["g"])(k,{onClick:function(t){return s.goDetail(e.id)},key:t,num:e.collects_count,tag:e.collects_count>=3?"hot":"new",price:e.price,desc:e.updated_at,title:e.title,thumb:e.cover_url,"lazy-load":!0,"origin-price":"10.00"},null,8,["onClick","num","tag","price","desc","title","thumb"])})),128))])])]),Object(n["R"])(Object(n["j"])(_,{onBTop:s.bTop},null,8,["onBTop"]),[[n["N"],s.isShowBackTop]])])})),d=c("2909"),j=c("a7ac"),v=c("bc26"),O=c("1bab");function f(){return Object(O["a"])({url:"/api/goods"})}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sales",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object(O["a"])({url:"/api/goods?category_id="+t+"&"+e+"=1&page="+c})}var g=c("6c02"),m=c("f40f"),h={setup:function(){var e=Object(n["D"])(0),t=Object(n["D"])([]),c=Object(n["D"])("1"),a=Object(n["D"])(0),o=Object(n["D"])("sales"),i=Object(n["D"])(0),l=Object(n["D"])(!1),u=Object(g["d"])(),r=Object(n["C"])({sales:{page:1,list:[]},price:{page:1,list:[]},comments_count:{page:1,list:[]}}),b=function(){p("sales",i.value).then((function(e){r.sales.list=e.goods.data})),p("price",i.value).then((function(e){r.price.list=e.goods.data})),p("comments_count",i.value).then((function(e){r.comments_count.list=e.goods.data}))},s=function(){j.scrollTo(0,0,500)},j=Object(n["C"])({});Object(n["v"])((function(){f().then((function(e){t.value=e.categories})),p("sales",i.value).then((function(e){r.sales.list=e.goods.data})),j=new m["a"](document.querySelector(".goods-list"),{probeType:3,click:!0,pullUpLoad:!0}),j.on("scroll",(function(e){l.value=-e.y>300})),j.on("pullingUp",(function(){console.log("pullingUp for more");var e=r[o.value].page+1;p(o.value,i.value,e).then((function(e){var t;(t=r[o.value].list).push.apply(t,Object(d["a"])(e.goods.data)),r[o.value].page+=1})),j.finishPullUp(),j&&j.refresh(),console.log("current page:"+e)}))}));var v=Object(n["e"])((function(){return r[o.value].list})),O=function(e){var t=["sales","price","comments_count"];o.value=t[e],p(o.value,i.value).then((function(e){r[o.value].list=e.goods.data,Object(n["q"])((function(){j&&j.refresh()}))})),console.log(t[e])},h=function(e){i.value=e,b(),console.log(i)};return Object(n["P"])((function(){Object(n["q"])((function(){j&&j.refresh()}))})),{active:e,activeName:c,active_tab:a,categories:t,TabClick:O,getGoods:h,showGoods:v,bs:j,bTop:s,isShowBackTop:l,goDetail:function(e){u.push({path:"/detail",query:{id:e}})}}},components:{NavBar:j["a"],UpBack:v["a"]}};c("e4cd");h.render=s,h.__scopeId="data-v-7c7eeb2c";t["default"]=h},e4cd:function(e,t,c){"use strict";c("0ba4")}}]);
//# sourceMappingURL=chunk-5c83cde2.2be6f5bf.js.map