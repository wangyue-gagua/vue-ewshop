(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-89be8d80"],{"0ec7":function(e,t,n){"use strict";n("cf5c")},"21cf":function(e,t,n){"use strict";n("45fb")},"2d29":function(e,t,n){"use strict";n("c5ef")},"45fb":function(e,t,n){},"4d24":function(e,t,n){},"4ec9":function(e,t,n){"use strict";var c=n("6d61"),a=n("6566");e.exports=c("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),a)},6566:function(e,t,n){"use strict";var c=n("9bf2").f,a=n("7c73"),r=n("e2cc"),o=n("0366"),i=n("19aa"),u=n("2266"),s=n("7dd0"),l=n("2626"),d=n("83ab"),b=n("f183").fastKey,f=n("69f3"),v=f.set,j=f.getterFor;e.exports={getConstructor:function(e,t,n,s){var l=e((function(e,c){i(e,l,t),v(e,{type:t,index:a(null),first:void 0,last:void 0,size:0}),d||(e.size=0),void 0!=c&&u(c,e[s],{that:e,AS_ENTRIES:n})})),f=j(t),O=function(e,t,n){var c,a,r=f(e),o=p(e,t);return o?o.value=n:(r.last=o={index:a=b(t,!0),key:t,value:n,previous:c=r.last,next:void 0,removed:!1},r.first||(r.first=o),c&&(c.next=o),d?r.size++:e.size++,"F"!==a&&(r.index[a]=o)),e},p=function(e,t){var n,c=f(e),a=b(t);if("F"!==a)return c.index[a];for(n=c.first;n;n=n.next)if(n.key==t)return n};return r(l.prototype,{clear:function(){var e=this,t=f(e),n=t.index,c=t.first;while(c)c.removed=!0,c.previous&&(c.previous=c.previous.next=void 0),delete n[c.index],c=c.next;t.first=t.last=void 0,d?t.size=0:e.size=0},delete:function(e){var t=this,n=f(t),c=p(t,e);if(c){var a=c.next,r=c.previous;delete n.index[c.index],c.removed=!0,r&&(r.next=a),a&&(a.previous=r),n.first==c&&(n.first=a),n.last==c&&(n.last=r),d?n.size--:t.size--}return!!c},forEach:function(e){var t,n=f(this),c=o(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:n.first){c(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!p(this,e)}}),r(l.prototype,n?{get:function(e){var t=p(this,e);return t&&t.value},set:function(e,t){return O(this,0===e?0:e,t)}}:{add:function(e){return O(this,e=0===e?0:e,e)}}),d&&c(l.prototype,"size",{get:function(){return f(this).size}}),l},setStrong:function(e,t,n){var c=t+" Iterator",a=j(t),r=j(c);s(e,t,(function(e,t){v(this,{type:c,target:e,state:a(e),kind:t,last:void 0})}),(function(){var e=r(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},"699d":function(e,t,n){"use strict";n("c869")},"6d61":function(e,t,n){"use strict";var c=n("23e7"),a=n("da84"),r=n("94ca"),o=n("6eeb"),i=n("f183"),u=n("2266"),s=n("19aa"),l=n("861d"),d=n("d039"),b=n("1c7e"),f=n("d44e"),v=n("7156");e.exports=function(e,t,n){var j=-1!==e.indexOf("Map"),O=-1!==e.indexOf("Weak"),p=j?"set":"add",g=a[e],h=g&&g.prototype,m=g,y={},k=function(e){var t=h[e];o(h,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(O&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return O&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(O&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})},w=r(e,"function"!=typeof g||!(O||h.forEach&&!d((function(){(new g).entries().next()}))));if(w)m=n.getConstructor(t,e,j,p),i.REQUIRED=!0;else if(r(e,!0)){var x=new m,T=x[p](O?{}:-0,1)!=x,D=d((function(){x.has(1)})),_=b((function(e){new g(e)})),C=!O&&d((function(){var e=new g,t=5;while(t--)e[p](t,t);return!e.has(-0)}));_||(m=t((function(t,n){s(t,m,e);var c=v(new g,t,m);return void 0!=n&&u(n,c[p],{that:c,AS_ENTRIES:j}),c})),m.prototype=h,h.constructor=m),(D||C)&&(k("delete"),k("has"),j&&k("get")),(C||T)&&k(p),O&&h.clear&&delete h.clear}return y[e]=m,c({global:!0,forced:m!=g},y),f(m,e),O||n.setStrong(m,e,j),m}},"6d71":function(e,t,n){"use strict";var c=n("7a23"),a=Object(c["T"])("data-v-eaf9dc62");Object(c["B"])("data-v-eaf9dc62");var r={class:"goods"};Object(c["z"])();var o=a((function(e,t,n,a,o,i){var u=Object(c["G"])("GoodsListItem");return Object(c["y"])(),Object(c["g"])("div",r,[(Object(c["y"])(!0),Object(c["g"])(c["a"],null,Object(c["E"])(n.goodsData,(function(e){return Object(c["y"])(),Object(c["g"])(u,{key:e,good:e},null,8,["good"])})),128))])})),i=Object(c["T"])("data-v-8064b74c");Object(c["B"])("data-v-8064b74c");var u={alt:""},s={class:"goods-info"},l={class:"price"},d=Object(c["j"])("small",null,"￥",-1),b={class:"collect"};Object(c["z"])();var f=i((function(e,t,n,a,r,o){var i=Object(c["H"])("lazy");return Object(c["y"])(),Object(c["g"])("div",{class:"goods-item",onClick:t[1]||(t[1]=function(e){return a.goDetail(n.good.id)})},[Object(c["R"])(Object(c["j"])("img",u,null,512),[[i,n.good.cover_url]]),Object(c["j"])("div",s,[Object(c["j"])("p",null,Object(c["K"])(n.good.title),1),Object(c["j"])("span",l,[d,Object(c["i"])(Object(c["K"])(n.good.price),1)]),Object(c["j"])("span",b,Object(c["K"])(n.good.collects_count),1)])])})),v=n("6c02"),j={name:"GoodsListItem",props:{good:{type:Object,default:function(){return{}}}},setup:function(){var e=Object(v["d"])();return{goDetail:function(t){e.push({path:"/detail",query:{id:t}})}}}};n("21cf");j.render=f,j.__scopeId="data-v-8064b74c";var O=j,p={name:"GoodsList",props:{goodsData:{type:Array,default:function(){return[]}}},components:{GoodsListItem:O}};n("733f");p.render=o,p.__scopeId="data-v-eaf9dc62";t["a"]=p},7156:function(e,t,n){var c=n("861d"),a=n("d2bb");e.exports=function(e,t,n){var r,o;return a&&"function"==typeof(r=t.constructor)&&r!==n&&c(o=r.prototype)&&o!==n.prototype&&a(e,o),e}},"733f":function(e,t,n){"use strict";n("4d24")},b3d7:function(e,t,n){"use strict";n.r(t);var c=n("7a23"),a=Object(c["T"])("data-v-41bea79c");Object(c["B"])("data-v-41bea79c");var r=Object(c["j"])("svg",{class:"icon tab-bar-icon","aria-hidden":"true"},[Object(c["j"])("use",{"xlink:href":"#icon-jiantou"})],-1),o=Object(c["i"])("商品首页"),i={class:"wrapper"},u={class:"content"},s={ref:"banref"};Object(c["z"])();var l=a((function(e,t,n,l,d,b){var f=Object(c["G"])("nav-bar"),v=Object(c["G"])("tab-control"),j=Object(c["G"])("HomeSwiper"),O=Object(c["G"])("recommend-view"),p=Object(c["G"])("goods-list"),g=Object(c["G"])("up-back");return Object(c["y"])(),Object(c["g"])("div",null,[Object(c["j"])(f,null,{left:a((function(){return[r]})),middle:a((function(){return[o]})),_:1}),Object(c["R"])(Object(c["j"])(v,{titles:l.tab_title,onTabClick:l.TabClick},null,8,["titles","onTabClick"]),[[c["N"],l.isTabFixed]]),Object(c["j"])("div",i,[Object(c["j"])("div",u,[Object(c["j"])("div",s,[Object(c["j"])(j,{slides:l.slides},null,8,["slides"]),Object(c["j"])(O,{recommends:l.recommends},null,8,["recommends"])],512),Object(c["j"])(v,{titles:l.tab_title,onTabClick:l.TabClick},null,8,["titles","onTabClick"]),Object(c["j"])(p,{goodsData:l.ShowGoodsData},null,8,["goodsData"])])]),Object(c["R"])(Object(c["j"])(g,{onBTop:l.bTop},null,8,["onBTop"]),[[c["N"],l.isShowBackTop]])])})),d=n("2909"),b=(n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("a7ac")),f=(n("fb6a"),Object(c["T"])("data-v-34850ec2"));Object(c["B"])("data-v-34850ec2");var v={class:"recommend"},j={alt:""};Object(c["z"])();var O=f((function(e,t,n,a,r,o){var i=Object(c["H"])("lazy");return Object(c["y"])(),Object(c["g"])("div",v,[(Object(c["y"])(!0),Object(c["g"])(c["a"],null,Object(c["E"])(n.recommends.slice(0,4),(function(e){return Object(c["y"])(),Object(c["g"])("div",{class:"recommend-itme",key:e.id},[Object(c["j"])("a",{href:"",onClick:Object(c["S"])((function(t){return a.goDetail(e.id)}),["prevent"])},[Object(c["R"])(Object(c["j"])("img",j,null,512),[[i,e.cover_url]]),Object(c["j"])("div",null,Object(c["K"])(e.title),1)],8,["onClick"])])})),128))])})),p=n("6c02"),g={name:"RecommendView",props:{recommends:{type:Array,default:function(){return[]}}},setup:function(){var e=Object(p["d"])(),t=function(t){e.push({path:"/detail",query:{id:t}})};return{goDetail:t}}};n("2d29");g.render=O,g.__scopeId="data-v-34850ec2";var h=g,m=Object(c["T"])("data-v-2ba04b2b");Object(c["B"])("data-v-2ba04b2b");var y={class:"tab-control"};Object(c["z"])();var k=m((function(e,t,n,a,r,o){return Object(c["y"])(),Object(c["g"])("div",y,[(Object(c["y"])(!0),Object(c["g"])(c["a"],null,Object(c["E"])(n.titles,(function(e,t){return Object(c["y"])(),Object(c["g"])("div",{key:t,onClick:function(e){return a.IndexClick(t)},class:[{active:t===a.currentIndex},"tab-control-item"]},[Object(c["j"])("span",null,Object(c["K"])(e),1)],10,["onClick"])})),128))])})),w={name:"TabControl",props:{titles:{type:Array,default:function(){return[]}}},setup:function(e,t){var n=t.emit,a=Object(c["D"])(0),r=function(e){a.value=e,n("tabClick",e)};return{currentIndex:a,IndexClick:r}}};n("699d");w.render=k,w.__scopeId="data-v-2ba04b2b";var x=w,T=n("6d71"),D=n("bc26"),_=Object(c["T"])("data-v-5d5b848c");Object(c["B"])("data-v-5d5b848c");var C={alt:""};Object(c["z"])();var I=_((function(e,t,n,a,r,o){var i=Object(c["G"])("van-swipe-item"),u=Object(c["G"])("van-swipe"),s=Object(c["H"])("lazy");return n.slides.length?(Object(c["y"])(),Object(c["g"])(u,{key:0,class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:_((function(){return[(Object(c["y"])(!0),Object(c["g"])(c["a"],null,Object(c["E"])(n.slides,(function(e,t){return Object(c["y"])(),Object(c["g"])(i,{key:t},{default:_((function(){return[Object(c["R"])(Object(c["j"])("img",C,null,512),[[s,e.img_url]])]})),_:2},1024)})),128))]})),_:1})):Object(c["h"])("",!0)})),z={name:"HomeSwiper",props:{slides:{type:Array,default:[]}}};z.render=I,z.__scopeId="data-v-5d5b848c";var E=z,G=n("1bab");function S(){return Object(G["a"])({url:"/api/index"})}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sales",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(G["a"])({url:"/api/index?"+e+"=1&page="+t})}var B=n("f40f"),F={name:"home",setup:function(){var e=["畅销","新书","精选"],t=new Map([["畅销","sales"],["新书","new"],["精选","recommend"]]),n=Object(c["D"])(!1),a=Object(c["D"])(!1),r=Object(c["C"])({sales:{page:1,data:[]},new:{page:1,data:[]},recommend:{page:1,data:[]}}),o=Object(c["D"])([]),i=Object(c["D"])([]),u=Object(c["C"])({}),s=Object(c["D"])(null);Object(c["v"])((function(){S().then((function(e){i.value=e.goods.data,o.value=e.slides})),R("sales").then((function(e){r.sales.data=e.goods.data})),R("new").then((function(e){r.new.data=e.goods.data})),R("recommend").then((function(e){r.recommend.data=e.goods.data})),u=new B["a"](document.querySelector(".wrapper"),{probeType:3,click:!0,pullUpLoad:!0}),u.on("scroll",(function(e){a.value=n.value=-e.y>s.value.offsetHeight})),u.on("pullingUp",(function(){var e=r[b.value].page+1;R(b.value,e).then((function(e){var t;(t=r[b.value].data).push.apply(t,Object(d["a"])(e.goods.data)),r[b.value].page+=1})),u.finishPullUp(),u&&u.refresh()}))}));var l=Object(c["D"])(0),b=Object(c["e"])((function(){return t.get(e[l.value])})),f=Object(c["e"])((function(){return r[b.value].data})),v=function(e){l.value=e,Object(c["q"])((function(){u&&u.refresh()}))};Object(c["P"])((function(){Object(c["q"])((function(){u&&u.refresh()}))}));var j=function(){u.scrollTo(0,0,500)};return{recommends:i,slides:o,tab_title:e,TabClick:v,ShowGoodsData:f,isTabFixed:n,isShowBackTop:a,banref:s,bTop:j,bs:u}},components:{NavBar:b["a"],HomeSwiper:E,RecommendView:h,TabControl:x,GoodsList:T["a"],UpBack:D["a"]}};n("0ec7");F.render=l,F.__scopeId="data-v-41bea79c";t["default"]=F},bb2f:function(e,t,n){var c=n("d039");e.exports=!c((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c5ef:function(e,t,n){},c869:function(e,t,n){},cf5c:function(e,t,n){},f183:function(e,t,n){var c=n("d012"),a=n("861d"),r=n("5135"),o=n("9bf2").f,i=n("90e3"),u=n("bb2f"),s=i("meta"),l=0,d=Object.isExtensible||function(){return!0},b=function(e){o(e,s,{value:{objectID:"O"+ ++l,weakData:{}}})},f=function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,s)){if(!d(e))return"F";if(!t)return"E";b(e)}return e[s].objectID},v=function(e,t){if(!r(e,s)){if(!d(e))return!0;if(!t)return!1;b(e)}return e[s].weakData},j=function(e){return u&&O.REQUIRED&&d(e)&&!r(e,s)&&b(e),e},O=e.exports={REQUIRED:!1,fastKey:f,getWeakData:v,onFreeze:j};c[s]=!0}}]);
//# sourceMappingURL=chunk-89be8d80.ca7cbb9b.js.map